(()=>{var t={56:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},72:t=>{"use strict";var e=[];function n(t){for(var n=-1,o=0;o<e.length;o++)if(e[o].identifier===t){n=o;break}return n}function o(t,o){for(var s={},c=[],i=0;i<t.length;i++){var a=t[i],d=o.base?a[0]+o.base:a[0],l=s[d]||0,u="".concat(d," ").concat(l);s[d]=l+1;var p=n(u),m={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(-1!==p)e[p].references++,e[p].updater(m);else{var f=r(m,o);o.byIndex=i,e.splice(i,0,{identifier:u,updater:f,references:1})}c.push(u)}return c}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var s=o(t=t||[],r=r||{});return function(t){t=t||[];for(var c=0;c<s.length;c++){var i=n(s[c]);e[i].references--}for(var a=o(t,r),d=0;d<s.length;d++){var l=n(s[d]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}s=a}}},108:()=>{document.addEventListener("DOMContentLoaded",function(){const t=window.matchMedia("(prefers-color-scheme: dark)"),e=localStorage.getItem("theme");document.documentElement.className=null!==e?e:t?"dark":"light"}),document.getElementById("theme-toggle").addEventListener("click",function(){const t=document.documentElement,e="dark"===t.className?"light":"dark";t.className=e,localStorage.setItem("theme",e)})},113:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},184:()=>{const t=document.querySelector("nav");document.getElementById("view-tasks"),document.querySelector(".projects"),t.addEventListener("click",t=>{var e;"BUTTON"===t.target.tagName&&("view-tasks"===(e=t.target).id||document.querySelector(".projects").contains(e))&&function(t){const e=document.querySelector(".open");(t=>null!==t)(e)&&e.classList.remove(...e.classList),t.classList.add("open")}(t.target)})},314:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n}).join("")},e.i=function(t,n,o,r,s){"string"==typeof t&&(t=[[null,t,void 0]]);var c={};if(o)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(c[a]=!0)}for(var d=0;d<t.length;d++){var l=[].concat(t[d]);o&&c[l[0]]||(void 0!==s&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=s),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},365:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var o=n(601),r=n.n(o),s=n(314),c=n.n(s)()(r());c.push([t.id,':root.light {\n    --color-icon-fill: hsl(0, 0%, 0%);\n    --color-button-hover: hsl(250, 37%, 97%);\n    --color-project-open: hsl(250, 37%, 97%);\n    --color-project-open-hover: hsl(0, 0%, 86%);\n    --color-sidebar-bg: hsl(40, 27%, 98%);\n    --color-backdrop-bg: hsla(0, 0%, 0%, 0.8);\n    --color-field-bg: hsl(250, 37%, 97%);\n    --color-field-border: hsl(0, 0%, 0%);\n    --color-base-button-text: hsl(0, 0%, 100%);\n    --color-cancel-create-bg: hsl(7, 79%, 54%);\n    --color-create-bg: hsl(37, 88%, 41%);\n    --color-base-warning: hsl(7, 79%, 54%);\n    --color-cancel-delete-bg: hsl(0, 0%, 67%);\n    --color-delete-bg: hsl(7, 79%, 54%);\n    --color-base-text: hsl(0, 0%, 0%);\n    --color-base-bg: hsl(0, 0%, 100%);\n    --color-task-high-priority: hsl(360, 88%, 71%);\n    --color-task-medium-priority: hsl(38, 85%, 52%);\n    --color-task-low-priority: hsl(40, 27%, 98%);\n}\n\n:root.dark {\n    --color-icon-fill: hsl(0, 0%, 100%);\n    --color-button-hover: hsl(240, 7%, 22%);\n    --color-project-open: hsl(240, 7%, 22%);\n    --color-project-open-hover: hsl(0, 0%, 20%);\n    --color-sidebar-bg: hsl(240, 9%, 18%);\n    --color-backdrop-bg: hsla(0, 0%, 0%, 0.8);\n    --color-field-bg: hsl(0, 0%, 100%);\n    --color-field-border: hsl(0, 0%, 100%);\n    --color-base-button-text: hsl(0, 0%, 100%);\n    --color-cancel-create-bg: hsl(7, 79%, 54%);\n    --color-create-bg: hsl(37, 88%, 41%);\n    --color-base-warning: hsl(7, 79%, 54%);\n    --color-cancel-delete-bg: hsl(0, 0%, 67%);\n    --color-delete-bg: hsl(7, 79%, 54%);\n    --color-base-text: hsl(0, 0%, 100%);\n    --color-base-bg: hsl(250, 8%, 15%);\n    --color-task-high-priority: hsl(359, 51%, 34%);\n    --color-task-medium-priority: hsl(33, 69%, 36%);\n    --color-task-low-priority: hsl(240, 9%, 18%);\n}\n\nbody {\n    margin: 0;\n    padding: 0;\n    font-family: system-ui, -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, Oxygen, Ubuntu, Cantarell, \'Open Sans\', \'Helvetica Neue\', sans-serif;\n}\n\nbutton {\n    color: var(--color-base-text);\n    background-color: var(--color-sidebar-bg);\n}\n\nbutton:hover, button:focus-visible {\n    background-color: var(--color-button-hover);\n    cursor: pointer;\n}\n\nbutton.open {\n    background-color: var(--color-project-open);\n}\n\nbutton:hover.open, button:focus-visible.open {\n    background-color: var(--color-project-open-hover);\n}\n\nsvg {\n    fill: var(--color-icon-fill);\n    pointer-events: none;\n}\n\n.container {\n    display: grid;\n    grid-template-columns: 1fr 3fr;\n}\n\n.sidebar {\n    color: var(--color-base-text);\n    background-color: var(--color-sidebar-bg);\n    padding: 15px;\n}\n\nnav {\n    display: grid;\n    grid-template-rows: 0.25fr 0.75fr 2fr;\n    gap: 10px;\n    height: calc(100vh - 30px);\n}\n\n.profile {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n}\n\n.profile svg {\n    flex-basis: 15%;\n}\n\n#theme-toggle { \n    display: flex;\n    justify-content: center;\n}\n\n#theme-toggle svg {\n    flex-basis: 80%;\n}\n\nnav > div:first-child {\n    display: grid;\n    grid-template-columns: 4fr 1fr;\n}\n\nnav > div:not(:first-child) {\n    display: flex;\n    flex-direction: column;\n    gap: 5px;\n}\n\nnav > div:last-child {\n    padding: 5px;\n    overflow-y: auto;\n    scrollbar-color: #8B8B8B transparent;\n}\n\nnav > div:last-child::-webkit-scrollbar {\n    background: transparent;\n}\n\nnav > div:last-child > button:not(.open) > svg:not(:first-child) {\n    display: none;\n}\n\nnav > div:last-child > button.open > svg:first-child {\n    display: none;\n}\n\nnav > div:last-child > button > p {\n    margin: 0;\n}\n\nnav button {\n    display: flex;\n    align-items: center;\n    padding: 10px;\n    border: none;\n    border-radius: 10px;\n}\n\n.sidebar-menu button { \n    gap: 20px;\n}\n\n.projects button {\n    gap: 10px;\n}\n\nnav button > svg {\n    flex-basis: 10%;\n}\n\n#content {\n    color: var(--color-base-text);\n    background-color: var(--color-base-bg);\n    padding: 20px;\n    overflow-y: auto;\n    height: calc(100vh - 40px);\n    scrollbar-color: #8B8B8B transparent;\n}\n\n#content::-webkit-scrollbar {\n    background: transparent;\n}\n\n.tasks,\n.project-expand {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n}\n\n.task {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 15px;\n    border: none;\n    border-radius: 10px;\n}\n\n.task[data-priority = "high"] {\n    background-color: var(--color-task-high-priority);\n}\n\n.task[data-priority = "medium"] {\n    background-color: var(--color-task-medium-priority);\n}\n\n.task:not([data-priority = "low"]):is(:hover, :focus-visible) {\n    filter: brightness(1.2);\n}\n\n.task-view {\n    border-radius: 10px;\n}\n\n.task-view[data-priority = "high"] {\n    background-color: var(--color-task-high-priority);\n}\n\n.task-view[data-priority = "medium"] {\n    background-color: var(--color-task-medium-priority);\n}\n\n.task-view[data-priority = "low"] {\n    background-color: var(--color-task-low-priority);\n}\n\n.task-view > .header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 15px;\n    border: none;\n    border-radius: 10px;\n}\n\n.task-view > .description {\n    margin: 0;\n    padding: 10px;\n}\n\n.task-view[data-priority = "high"] > .header {\n    background-color: var(--color-task-high-priority);\n    filter: brightness(1.2);\n}\n\n.task-view[data-priority = "medium"] > .header {\n    background-color: var(--color-task-medium-priority);\n    filter: brightness(1.2);\n}\n\n.task-view[data-priority = "low"] > .header {\n    background-color: var(--color-button-hover);\n}\n\n.buttons {\n    display: flex;\n    gap: 10px;\n    padding: 5px;\n}\n\n.task-view button {\n    padding: 5px;\n    border: none;\n    background-color: transparent;\n}\n \n.task-view svg {\n    width: 25px;\n}\n\n.project-view {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.project-view button {\n    border: none;\n    background-color: transparent;\n}\n\n.project-view svg {\n    width: 35px;\n}\n\ndialog::backdrop {\n    background-color: var(--color-backdrop-bg);\n    backdrop-filter: blur(10px);\n    -webkit-backdrop-filter: blur(10px);\n}\n\ndialog {\n    width: 40%;\n    border: none;\n    border-radius: 10px;\n    color: var(--color-base-text);\n    background-color: var(--color-base-bg);\n}\n\ndialog > form {\n    display: grid;\n    gap: 10px;\n}\n\ndialog:first-child > form {\n    grid-template-rows: repeat(2, 1fr) 3fr repeat(2, 1fr);\n}\n\ndialog:last-child > form {\n    grid-template-rows: 1fr 3fr 0.5fr;\n}\n\nform > section:not(:last-child) {\n    display: flex;\n    flex-direction: column;\n    gap: 5px;\n}\n\nform > section:last-child {\n    display: flex;\n    justify-content: center;\n    gap: 20px;\n}\n\nsection > input,\nsection > textarea {\n    padding: 5px 10px;\n    border: 1px solid var(--color-field-border);\n    border-radius: 10px;\n    background-color: var(--color-field-bg);\n}\n\nsection > textarea {\n    flex-grow: 1;\n}\n\nsection:nth-child(3) textarea {\n    aspect-ratio: 1 / 0.25;\n}\n\nsection:last-child button {\n    color: var(--color-base-button-text);\n    border: none;\n    border-radius: 10px;\n    padding: 10px 15px;\n}\n\nsection:last-child button:first-child {\n    background-color: var(--color-cancel-create-bg);\n}\n\nsection:last-child button:last-child {\n    background-color: var(--color-create-bg);\n}\n\nselect {\n    appearance: base-select;\n}\n\nselect::picker(select) {\n    appearance: base-select;\n    border-radius: 5px;\n    color: var(--color-base-text);\n    background-color: var(--color-base-bg);\n    top: calc(anchor(bottom));\n}\n\n#confirm-delete form {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n}\n\n.deleting-task form > p:not(:first-child) {\n    display: none;\n}\n\n.deleting-project form > p:not(:first-child) {\n    display: block;\n    font-weight: bold;\n    color: var(--color-base-warning);\n}\n\n#confirm-delete section:last-child button:first-child {\n    background-color: var(--color-cancel-delete-bg);\n}\n\n#confirm-delete section:last-child button:last-child {\n    background-color: var(--color-delete-bg);\n}',""]);const i=c},540:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},601:t=>{"use strict";t.exports=function(t){return t[1]}},659:t=>{"use strict";var e={};t.exports=function(t,n){var o=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},825:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(o,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var s=e[o]={id:o,exports:{}};return t[o](s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,(()=>{"use strict";class t{constructor(t,e){this.title=t,this.id=crypto.randomUUID()}}const e={changeTitle(t){this.title=t}},o={changeDescription(t){this.description=t}},r={changeDueDate(t){this.dueDate=t}},s={changePriority(t){this.priority=t}},c={changeProjectId(t){this.projectId=t}};class i extends t{constructor(t,e,n,o,r){super(t),this.description=e,this.dueDate=n,this.priority=o,this.projectId=r}static fromData({title:t,description:e,dueDate:n,priority:o,id:r,projectId:s}){const c=new i(t,e,n,o);return c.id=r,c.projectId=s,c}}Object.assign(i.prototype,e),Object.assign(i.prototype,o),Object.assign(i.prototype,r),Object.assign(i.prototype,s),Object.assign(i.prototype,c);class a extends t{constructor(t){super(t)}static fromData({title:t,id:e}){const n=new a(t);return n.id=e,n}}function d(t){return function(){t.showModal()}}function l(t){return function(){t.close()}}function u(t){return function(){t.reset()}}function p(){return new i(m(),g(),f(),h(),function(){const t=document.querySelector("select"),e=t.options[t.selectedIndex];return v(e)?"":e.dataset.id}())}Object.assign(a.prototype,e);const m=()=>document.getElementById("task-name").value,f=()=>document.getElementById("due-date").value,g=()=>document.getElementById("task-description").value,h=()=>document.querySelector("input[name='priority']:checked").value,v=t=>"none"===t.value;function b(){return new a(y())}const y=()=>document.getElementById("project-name").value,j=document.getElementById("add-task"),k=document.getElementById("task-modal"),E=k.firstElementChild;j.addEventListener("click",function(){k.classList.remove(...k.classList),k.classList.add("adding-task"),E.lastElementChild.lastElementChild.textContent="Create task",d(k)()});const x=document.getElementById("task-modal"),I=x.firstElementChild,L=I.children;content.addEventListener("click",t=>{"edit-task"===t.target.id&&(x.classList.remove(...x.classList),x.classList.add("editing-task"),I.lastElementChild.lastElementChild.textContent="Save changes",w(),S(),function(){const t=C(),e=B();D(e)?t.value=document.querySelector(`option[data-id="${e}"]`).value:t.value="none"}(),O(),T(),d(x)())});const C=()=>L[3].lastElementChild,w=()=>L[0].lastElementChild.value=document.querySelector(".title").textContent,S=()=>L[1].lastElementChild.value=function(t){const[e,n,o]=t.split("-");return`${o}-${e}-${n}`}(document.querySelector(".due-date").textContent),O=()=>L[2].lastElementChild.value=document.querySelector(".description").textContent,T=()=>document.querySelector(`input[name="priority"][value=${document.querySelector(".task-view").dataset.priority}]`).checked=!0,B=()=>document.querySelector(".task-view").dataset.projectId,D=t=>""!==t,P=document.getElementById("task-modal"),q=P.firstElementChild;q.lastElementChild.firstElementChild.addEventListener("click",l(P)),P.addEventListener("close",u(q)),q.addEventListener("submit",l(P));const N=document.getElementById("add-project"),M=document.getElementById("project-modal"),A=M.firstElementChild;N.addEventListener("click",function(){M.classList.remove(...M.classList),M.classList.add("adding-project"),A.lastElementChild.lastElementChild.textContent="Create project",d(M)()});const J=document.getElementById("project-modal"),U=J.firstElementChild;content.addEventListener("click",t=>{"edit-project"===t.target.id&&(J.classList.remove(...J.classList),J.classList.add("editing-project"),U.lastElementChild.lastElementChild.textContent="Save changes",$(),d(J)())});const $=()=>U.firstElementChild.lastElementChild.value=document.querySelector(".title").textContent,F=document.getElementById("project-modal"),H=F.firstElementChild;H.lastElementChild.firstElementChild.addEventListener("click",l(F)),F.addEventListener("close",u(H)),H.addEventListener("submit",l(F));const R=document.getElementById("content"),_=document.getElementById("confirm-delete");R.addEventListener("click",t=>{"delete-project"===t.target.id&&(_.classList.remove(..._.classList),_.classList.add("deleting-project"),d(_)())});const z=document.getElementById("content"),G=document.getElementById("confirm-delete");z.addEventListener("click",t=>{"delete-task"===t.target.id&&(G.classList.remove(...G.classList),G.classList.add("deleting-task"),d(G)())});const K=document.getElementById("confirm-delete"),Q=K.firstElementChild;Q.lastElementChild.firstElementChild.addEventListener("click",l(K)),K.addEventListener("close",u(Q)),Q.addEventListener("submit",l(K));const V=()=>document.getElementById("view-tasks").dispatchEvent(new MouseEvent("click",{bubbles:!0}));function W(t){const e=document.querySelector("select");e.replaceChildren(e.firstElementChild),Object.values(t.projects).forEach(t=>e.appendChild(function(t){const e=document.createElement("option");return e.textContent=t.title,e.value=t.title,e.dataset.id=t.id,e}(t)))}const X=function(t){!function(t){const e=document.querySelector(".projects");e.addEventListener("click",function(e){"BUTTON"===e.target.tagName&&t.expandProject(e.target.dataset.id)})}(t),function(t){const e=document.getElementById("project-modal");e.addEventListener("submit",function(n){n.preventDefault();const o=b();e.classList.contains("adding-project")&&(t.storeProject(o),t.displayProjects(),W(t))})}(t),function(t){const e=document.getElementById("project-modal");e.addEventListener("submit",function(n){n.preventDefault();const o=b();e.classList.contains("editing-project")&&(o.id=document.querySelector(".project-view").dataset.id,t.editProject(o))})}(t),function(t){const e=document.getElementById("confirm-delete");e.addEventListener("submit",function(n){n.preventDefault(),e.classList.contains("deleting-project")&&(t.deleteProject(document.querySelector(".project-view").dataset.id),t.displayTodoItems(),t.displayProjects(),W(t),V())})}(t)},Y=function(t){!function(t){document.getElementById("view-tasks").addEventListener("click",function(){t.displayTodoItems()})}(t),function(t){content.addEventListener("click",function(e){if((n=e.target).classList.contains("task")||n.parentElement.classList.contains("task")){document.querySelector(".open").classList.remove("open");const n=e.target.classList.contains("task")?e.target:e.target.parentElement;t.expandTodoItem(n.dataset.id)}var n})}(t),function(t){const e=document.getElementById("task-modal");e.addEventListener("submit",function(e){e.preventDefault();const n=p();var o;content.classList.contains("tasks")?(t.storeTodoItem(n),t.displayTodoItems()):(o=n.projectId,content.classList.contains("project-expand")&&document.querySelector(".open").dataset.id===o&&(t.storeTodoItem(n),t.displayTodoItems(),t.expandProject(document.querySelector(".open").dataset.id)))})}(t),function(t){const e=document.getElementById("task-modal");e.addEventListener("submit",function(n){n.preventDefault();const o=p();e.classList.contains("editing-task")&&(o.id=document.querySelector(".task-view").dataset.id,t.editTodoItem(o))})}(t),function(t){const e=document.getElementById("confirm-delete");e.addEventListener("submit",function(n){n.preventDefault(),e.classList.contains("deleting-task")&&(t.deleteTodoItem(document.querySelector(".task-view").dataset.id),t.displayTodoItems(),V())})}(t)};n(184),n(108);const Z=function(t){!function(t){t.load(),W(t)}(t),X(t),Y(t)};function tt(t){return function(){return t.content.firstElementChild.cloneNode(!0)}}function et(t){const e=document.createElement("h1");return e.classList.add("title"),e.textContent=t,e}const nt=document.getElementById("content"),ot=document.getElementById("edit-file"),rt=document.getElementById("remove-file");function st(t){nt.textContent="",nt.classList.remove(...nt.classList),nt.classList.add("tasks"),t.forEach(t=>function(t){nt.appendChild(function(t){const e=document.createElement("button");return e.classList.add("task"),e.dataset.id=t.id,e.dataset.projectId=t.projectId,e.dataset.priority=t.priority,e.appendChild(et(t.title)),e.appendChild(it(t.dueDate)),e}(t))}(t))}function ct(t){return tt(t)()}function it(t){const e=document.createElement("h2");return e.classList.add("due-date"),e.textContent=function(t){const[e,n,o]=t.split("-");return`${n}-${o}-${e}`}(t),e}const at=document.getElementById("content"),dt=document.querySelector(".projects"),lt=document.getElementById("folder-open"),ut=document.getElementById("folder-closed"),pt=document.getElementById("edit-folder"),mt=document.getElementById("remove-folder");function ft(t){return tt(t)()}Math.pow(10,8);const gt=Symbol.for("constructDateFrom");function ht(t,e){return o=t,"function"==typeof(n=e||t)?n(o):n&&"object"==typeof n&&gt in n?n[gt](o):n instanceof Date?new n.constructor(o):new Date(o);var n,o}class vt{}const bt={displayTodoItems(t){st(t.sort((t,e)=>this.compareTodoItems(t,e)))}},yt={displayProjects(t){!function(t){dt.textContent="",t.forEach(t=>function(t){dt.appendChild(function(t){const e=document.createElement("button");return e.type="button",e.dataset.id=t.id,e.textContent=t.title,e.prepend(ft(ut)),e.prepend(ft(lt)),e}(t))}(t))}(t.sort((t,e)=>this.compareTitles(t,e)))}},jt={expandTodoItem(t){!function(t){nt.textContent="",nt.classList.remove(...nt.classList),nt.classList.add("task-expand"),nt.appendChild(function(t){const e=document.createElement("div");return e.classList.add("task-view"),e.dataset.priority=t.priority,e.dataset.id=t.id,e.dataset.projectId=null!==t.projectId?t.projectId:"",e.appendChild(function(t){const e=document.createElement("div");return e.classList.add("header"),e.appendChild(et(t.title)),e.appendChild(it(t.dueDate)),e}(t)),e.appendChild(function(){const t=document.createElement("div");return t.classList.add("buttons"),t.appendChild(function(){const t=document.createElement("button");return t.id="edit-task",t.appendChild(ct(ot)),t}()),t.appendChild(function(){const t=document.createElement("button");return t.id="delete-task",t.appendChild(ct(rt)),t}()),t}()),e.appendChild(function(t){const e=document.createElement("p");return e.classList.add("description"),e.textContent=t,e}(t.description)),e}(t))}(t)},compareTodoItems(t,e){const n=this.compareDueDates(t,e);return this.differenceBetweenDueDates(n)?n:this.comparePriority(t,e)},compareDueDates:(t,e)=>function(t,e){const n=+ht(t)-+ht(e);return n<0?-1:n>0?1:n}(t.dueDate,e.dueDate),differenceBetweenDueDates:t=>0!==t,comparePriority(t,e){const n={high:0,medium:1,low:2};return n[t.priority]-n[e.priority]}},kt={expandProject(t,e){st(e.filter(e=>this.belongsToProject(e,t)).sort((t,e)=>this.compareTodoItems(t,e))),function(t){at.classList.remove(...at.classList),at.classList.add("project-expand"),at.prepend(function(t){const e=document.createElement("div");return e.classList.add("project-view"),e.dataset.id=t.id,e.appendChild(et(t.title)),e.appendChild(function(){const t=document.createElement("div");return t.classList.add("buttons"),t.appendChild(function(){const t=document.createElement("button");return t.id="edit-project",t.appendChild(ft(pt)),t}()),t.appendChild(function(){const t=document.createElement("button");return t.id="delete-project",t.appendChild(ft(mt)),t}()),t}()),e}(t))}(t)},compareTitles:(t,e)=>t.title.toLowerCase().localeCompare(e.title.toLowerCase()),belongsToProject:(t,e)=>t.projectId===e.id};Object.assign(vt.prototype,bt),Object.assign(vt.prototype,yt),Object.assign(vt.prototype,jt),Object.assign(vt.prototype,kt);const Et=vt;function xt(){return JSON.parse(localStorage.getItem("todo-items"))}function It(){return JSON.parse(localStorage.getItem("projects"))}const Lt=(t,e)=>t.projectId===e;document.addEventListener("DOMContentLoaded",function(){null===localStorage.getItem("projects")&&localStorage.setItem("projects",JSON.stringify({})),null===localStorage.getItem("todo-items")&&localStorage.setItem("todo-items",JSON.stringify({}))});class Ct{constructor(){this.controller=new Et,this.todoItems={},this.projects={}}}const wt={load(){this.processTodoItems(),this.processProjects(),this.displayTodoItems(),this.displayProjects()}},St={processTodoItems(){for(const[t,e]of Object.entries(xt()))this.todoItems[t]=i.fromData(e)},reprocessTodoItems(){this.todoItems={},this.processTodoItems()}},Ot={processProjects(){for(const[t,e]of Object.entries(It()))this.projects[t]=a.fromData(e)}},Tt={expandTodoItem(t){this.controller.expandTodoItem(this.todoItems[t])}},Bt={expandProject(t){this.controller.expandProject(this.projects[t],Object.values(this.todoItems))}},Dt={storeTodoItem(t){this.todoItems[t.id]=t,function(t){const e=xt();e[t.id]=t,localStorage.setItem("todo-items",JSON.stringify(e))}(t)}},Pt={storeProject(t){this.projects[t.id]=t,function(t){const e=It();e[t.id]=t,localStorage.setItem("projects",JSON.stringify(e))}(t)}},qt={editTodoItem(t){this.todoItems[t.id]=t,this.storeTodoItem(t),this.expandTodoItem(t.id)}},Nt={editProject(t){this.projects[t.id]=t,this.storeProject(t),this.expandProject(t.id)}},Mt={deleteTodoItem(t){delete this.todoItems[t],function(t){const e=xt();delete e[t],localStorage.setItem("todo-items",JSON.stringify(e))}(t)}},At={deleteProject(t){delete this.projects[t],function(t){const e=It();delete e[t],localStorage.setItem("projects",JSON.stringify(e)),function(t){const e=xt();for(const n of Object.values(e))Lt(n,t)&&delete e[n.id];localStorage.setItem("todo-items",JSON.stringify(e))}(t)}(t),this.reprocessTodoItems()}},Jt={displayTodoItems(){this.controller.displayTodoItems(Object.values(this.todoItems))}},Ut={displayProjects(){this.controller.displayProjects(Object.values(this.projects))}};Object.assign(Ct.prototype,wt),Object.assign(Ct.prototype,St),Object.assign(Ct.prototype,Ot),Object.assign(Ct.prototype,Tt),Object.assign(Ct.prototype,Bt),Object.assign(Ct.prototype,Dt),Object.assign(Ct.prototype,Pt),Object.assign(Ct.prototype,qt),Object.assign(Ct.prototype,Nt),Object.assign(Ct.prototype,Mt),Object.assign(Ct.prototype,At),Object.assign(Ct.prototype,Jt),Object.assign(Ct.prototype,Ut);const $t=Ct;var Ft=n(72),Ht=n.n(Ft),Rt=n(825),_t=n.n(Rt),zt=n(659),Gt=n.n(zt),Kt=n(56),Qt=n.n(Kt),Vt=n(540),Wt=n.n(Vt),Xt=n(113),Yt=n.n(Xt),Zt=n(365),te={};te.styleTagTransform=Yt(),te.setAttributes=Qt(),te.insert=Gt().bind(null,"head"),te.domAPI=_t(),te.insertStyleElement=Wt(),Ht()(Zt.A,te),Zt.A&&Zt.A.locals&&Zt.A.locals,document.addEventListener("DOMContentLoaded",function(){Z(new $t)})})()})();